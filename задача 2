using System;
using System.Collections.Generic;
using System.Threading.Tasks;

class Program
{
    static async Task Main()
    {
        Console.WriteLine("Начало загрузки...");
        var start = DateTime.Now;

        var task1 = DownloadAsync("Сервер1", 1000);
        var task2 = DownloadAsync("Сервер2", 2000);
        var task3 = DownloadAsync("Сервер3", 3000);

        await Task.Delay(2500);

        var results = new List<string>();

        if (task1.IsCompleted)
            results.Add(task1.Result);
        else
            Console.WriteLine("Сервер1: не успел");

        if (task2.IsCompleted)
            results.Add(task2.Result);
        else
            Console.WriteLine("Сервер2: не успел");

        if (task3.IsCompleted)
            results.Add(task3.Result);
        else
            Console.WriteLine("Сервер3: не успел");

        var time = (DateTime.Now - start).TotalSeconds;

        Console.WriteLine("\nУспешно загружено:");
        foreach (var r in results)
        {
            Console.WriteLine(r);
        }
        Console.WriteLine($"Время: {time:F2}с");
    }

    static async Task<string> DownloadAsync(string name, int delay)
    {
        await Task.Delay(delay);
        return $"{name}: данные загружены";
    }
}
